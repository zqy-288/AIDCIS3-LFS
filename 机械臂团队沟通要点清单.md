# 机械臂路径规划需求沟通要点清单

## 🎯 会议目标
确保下周演示时软件界面与机械臂运动完全同步，明确双孔策略和边界策略的技术实现方案。

## 📋 关键确认事项

### 1. 双孔测量策略 ⭐⭐⭐
**需要确认**：
- [ ] 机械臂是否支持真正的"同时双孔检测"？
- [ ] 如果不支持同时检测，双孔的执行顺序是什么？
- [ ] 双孔配对规则：同行相邻？特定间隔？自定义配对？
- [ ] 示例：R1C1+R1C3 → R2C2+R2C4，这个顺序如何实现？

**技术影响**：
- 界面需要同步点亮两个绿点
- 数据结构需要支持双孔配对管理
- 检测时间和节拍的精确计算

### 2. 边界策略算法 ⭐⭐⭐
**需要确认**：
- [ ] 到达行末端（如19号+21号孔后）的处理方式？
- [ ] 是否回返测量18号+20号孔？回返路径如何优化？
- [ ] 单孔遗留问题：最后只剩一个孔时如何处理？
  - 选项A：重复测量前一个孔
  - 选项B：单独测量该孔
  - 选项C：其他方案？

**技术影响**：
- 路径规划算法的核心逻辑
- 异常情况的处理流程
- 检测完整性的保证

### 3. 性能参数和时间节拍 ⭐⭐
**需要确认**：
- [ ] 单孔检测的标准耗时？
- [ ] 孔间移动的平均耗时？
- [ ] 双孔检测的总耗时（如果支持）？
- [ ] 机械臂最大移动速度和加速度限制？

**技术影响**：
- 界面进度条的准确显示
- 预计完成时间的计算
- 检测效率的优化

## 🔧 技术接口规范

### 1. 通信协议
**需要确认**：
- [ ] 使用TCP还是UDP协议？
- [ ] 数据格式：JSON、XML还是自定义格式？
- [ ] 心跳包频率和超时处理？

### 2. 控制指令格式
**建议格式**（待确认）：
```json
{
  "command": "start_dual_detection",
  "hole_pair": {
    "hole1": {"id": "C001R001", "x": 10.5, "y": 20.3},
    "hole2": {"id": "C003R001", "x": 50.5, "y": 20.3}
  },
  "parameters": {
    "approach_speed": 50,
    "detection_depth": 10
  }
}
```

### 3. 状态反馈格式
**建议格式**（待确认）：
```json
{
  "status": "detecting|completed|error",
  "current_hole": "C001R001",
  "progress": 0.5,
  "timestamp": "2025-01-17T10:30:00"
}
```

## 🏗️ 系统集成方案

### 1. 硬件部署
**需要确认**：
- [ ] 运动台控制软件能否与上位机软件部署在同一台电脑？
- [ ] 如果不能，网络控制方案的技术细节？
- [ ] 硬件兼容性和驱动程序问题？

### 2. 软件联动
**需要确认**：
- [ ] 上位机"采集"按钮如何触发机械臂运动？
- [ ] 机械臂开始运动后如何通知上位机开始数据采集？
- [ ] 实时状态同步的频率和方式？

## 📅 时间节点

### 本周（优先级最高）
- [ ] 确认所有技术方案和接口规范
- [ ] 制定详细的实施计划
- [ ] 识别潜在风险和备用方案

### 下周演示前
- [ ] 实现单孔检测的完整流程（演示用）
- [ ] 完成软硬件联动的基础功能
- [ ] 进行集成测试和问题修复

### 演示后
- [ ] 实现完整的双孔检测策略
- [ ] 优化路径规划算法
- [ ] 完善错误处理和异常恢复

## ⚠️ 风险识别

### 技术风险
- [ ] 实时同步的延迟问题
- [ ] 复杂路径规划的性能瓶颈
- [ ] 硬件兼容性问题

### 应对措施
- [ ] 分阶段实施，优先保证基础功能
- [ ] 准备演示备用方案
- [ ] 充分的集成测试

## 📊 演示目标澄清

### 下周四演示
- **最小目标**：展示单孔测量的完整流程
- **理想目标**：展示双孔测量的基础功能
- **必须实现**：界面与机械臂运动的完全同步

### 长期开发目标
- **核心目标**：实现双孔同时测量
- **优化目标**：智能路径规划和边界策略
- **集成目标**：所有系统的无缝协作

---

## 📞 会议安排建议

**时间分配**：
- 双孔策略确认：30分钟
- 边界策略讨论：20分钟  
- 技术接口规范：20分钟
- 风险控制和计划：10分钟

**参会人员**：
- 上位机团队：马瑞（牵头）、思瑶、青阳
- 机械臂团队：第七组核心成员
- 技术协调：项目技术负责人

**预期输出**：
- [ ] 技术接口规范确认书
- [ ] 路径规划算法实施方案
- [ ] 集成测试计划
- [ ] 下周演示的具体方案