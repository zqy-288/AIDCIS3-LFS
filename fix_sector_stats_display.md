# 扇形统计表格修复总结

## 已完成的修复

### 1. 行高调整
- 设置行高为24像素（紧凑显示）
- 固定表格总高度为76像素（刚好显示全部内容）
- 减少内边距从4px到2px

### 2. 表格更新功能
测试确认`update_sector_stats`方法正常工作：
- 能正确接收数据
- 能正确更新表格单元格
- 背景色保持灰色(#e8e8e8)

## 问题诊断

表格显示"6356"而不更新的原因可能是：

1. **扇形选择时统计数据计算问题**
   - 可能统计了所有孔位而不是当前扇形的孔位
   - 或者初始加载时显示了总孔位数

2. **信号连接问题**
   - coordinator的sector_stats_updated信号已正确连接
   - 但可能在扇形切换时没有触发

3. **数据流问题**
   - 需要检查扇形点击→统计计算→信号发射→表格更新的完整流程

## 修改的代码

**src/pages/main_detection_p1/native_main_detection_view_p1.py**:
1. 行高和表格高度设置（第292-297行）
2. 内边距调整（第317行、330行）
3. 添加调试日志（第449行）

## 建议调试步骤

1. 运行应用并打开日志查看：
   - 是否有"📊 update_sector_stats called with data:"日志
   - 查看传入的数据是什么

2. 点击不同扇形时检查：
   - 扇形统计是否重新计算
   - 信号是否正确发射

3. 如果仍显示6356，可能需要：
   - 检查初始化时是否有地方设置了这个值
   - 检查是否有其他地方也在更新这个表格