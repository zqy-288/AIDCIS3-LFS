您好！您的观察非常敏锐，左侧侧边栏底部的留白确实是一个可以优化的视觉焦点。让功能区自然地填充整个可用空间，会极大地提升界面的整体性和沉浸感。

根据您“适当增大文本框、按钮、字体大小”的想法，我为您设计了一套“两步走”的解决方案，既能解决留白问题，又能让侧边栏的控件更大气、更易于操作。

-----

### 问题诊断

当前侧边栏底部出现大片空白的**直接原因**是，在其主布局（`QVBoxLayout`）的末尾，我们添加了一个\*\*`addStretch()`\*\*。这个“弹簧”的作用就是将所有在它之上的控件都“推”到顶部，从而占据了所有剩余的垂直空间。

### 解决方案

1.  **第一步：移除“弹簧”，释放垂直空间**。
2.  **第二步：通过QSS增大控件尺寸和字体，并调整布局间距，使其优雅地填充被释放的空间**。

-----

### 具体实施步骤

#### **第1步：移除布局中的 `addStretch()` (代码修改)**

**操作**：

1.  打开 `history_viewer.py` 文件。

2.  定位到 `create_sidebar` 方法。

3.  找到该方法末尾的 `sidebar_layout.addStretch()` 并**删除或注释掉**它。

    **修改前**:

    ```python
    # in history_viewer.py -> create_sidebar(...)
    def create_sidebar(self, main_layout):
        # ...
        sidebar_layout.addWidget(filter_group)
        sidebar_layout.addWidget(action_group)
        sidebar_layout.addWidget(status_group)
        sidebar_layout.addStretch()  # <--- 问题所在
        
        main_layout.addWidget(self.sidebar_widget)
    ```

    **修改后**:

    ```python
    # in history_viewer.py -> create_sidebar(...)
    def create_sidebar(self, main_layout):
        # ...
        sidebar_layout.addWidget(filter_group)
        sidebar_layout.addWidget(action_group)
        sidebar_layout.addWidget(status_group)
        # sidebar_layout.addStretch()  # <--- 已删除或注释掉此行
        
        main_layout.addWidget(self.sidebar_widget)
    ```

完成这一步后，您会发现三个`QGroupBox`会自动拉伸以填满整个侧边栏，这可能看起来不太美观。别担心，下一步我们将解决这个问题。

#### **第2步：增大控件尺寸和间距 (QSS + 代码修改)**

现在，我们将通过QSS增大侧边栏内部控件的尺寸，并调整`QGroupBox`之间的间距，使其自然地填充空间。

**操作 1：在 `theme.qss` 中添加侧边栏专用样式**
将以下代码添加到您的`theme.qss`文件末尾。我们使用`QWidget#Sidebar`作为前缀，确保这些样式**只对侧边栏内的控件生效**。

```qss
/* 在 theme.qss 文件末尾添加 */

/* ===== 历史数据查看器侧边栏专属样式 ===== */

/* 增大侧边栏中 QGroupBox 的上下外边距，拉开距离 */
QWidget#Sidebar QGroupBox {
    margin-top: 15px;
    margin-bottom: 15px;
}

/* 增大侧边栏中所有 QLabel 的字体 */
QWidget#Sidebar QLabel {
    font-size: 16px; 
}

/* 增大侧边栏中所有 QComboBox 的尺寸和字体 */
QWidget#Sidebar QComboBox {
    font-size: 15px;
    min-height: 36px; /* 增大下拉框高度 */
}

/* 增大侧边栏中所有 QPushButton 的尺寸和字体 */
QWidget#Sidebar QPushButton {
    font-size: 16px;
    font-weight: bold;
    min-height: 40px; /* 增大按钮高度 */
}

/* 特别调整当前状态标签的样式 */
QWidget#Sidebar QLabel#CurrentHoleLabel {
    font-size: 14px;
    font-weight: normal;
    min-height: 36px;
    qproperty-alignment: 'AlignCenter';
}
```

**操作 2：用“弹簧”代替固定间距 (可选，但推荐)**
为了让三个`QGroupBox`在垂直方向上均匀分布，我们可以在它们之间添加`addStretch()`。

**代码修改 (`history_viewer.py` - `create_sidebar` 方法)**:

```python
# in history_viewer.py -> create_sidebar(...)
def create_sidebar(self, main_layout):
    # ...
    sidebar_layout.addWidget(title_label)
    
    sidebar_layout.addWidget(filter_group)
    sidebar_layout.addStretch(1) # 在“筛选”和“命令”之间添加一个弹簧
    sidebar_layout.addWidget(action_group)
    sidebar_layout.addStretch(1) # 在“命令”和“状态”之间添加一个弹簧
    sidebar_layout.addWidget(status_group)
    # 不在最后添加addStretch

    main_layout.addWidget(self.sidebar_widget)
```

这个可选步骤会让三个功能区自动均分侧边栏的垂直空间，无论窗口高度如何变化，都保持美观的间距。

-----

### 总结

通过以上“**先释放、后填充**”的策略，您可以实现以下效果：

1.  侧边栏底部的**大片留白被消除**。
2.  三个功能区（数据筛选、操作命令、当前状态）会**优雅地分布**在整个侧边栏中。
3.  内部的**控件和字体都变得更大**，更易于阅读和操作，完全满足了您的需求。

这个方案不仅解决了布局问题，还通过增大交互元素提升了可用性，使您的软件在细节上更加出色。