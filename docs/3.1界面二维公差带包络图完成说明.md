# 3.1ç•Œé¢äºŒç»´å…¬å·®å¸¦åŒ…ç»œå›¾å®Œæˆè¯´æ˜Ž

## ä¿®æ”¹æ¦‚è¿°

æ ¹æ®ç”¨æˆ·éœ€æ±‚ï¼Œå¯¹3.1ç•Œé¢çš„æµ‹é‡æ•°æ®å›¾è¡¨è¿›è¡Œäº†é‡å¤§æ”¹è¿›ï¼šä»Žæ‹Ÿåˆåœ†å›¾æ”¹ä¸ºäºŒç»´å…¬å·®å¸¦åŒ…ç»œå›¾ï¼Œä»¥æ·±åº¦ï¼ˆä½ç½®ï¼‰ä¸ºXè½´ï¼Œç›´å¾„ä¸ºYè½´ï¼Œæ˜¾ç¤ºæ ‡å‡†ç›´å¾„ã€å…¬å·®å¸¦å’Œæµ‹é‡æ•°æ®æ›²çº¿ï¼Œå¹¶æ”¯æŒé¼ æ ‡æ»šè½®ç¼©æ”¾åŠŸèƒ½ã€‚

## åŠŸèƒ½è½¬æ¢

### ä¿®æ”¹å‰ âŒ
- **å›¾è¡¨ç±»åž‹**: æ‹Ÿåˆåœ†å›¾ (X-Yåæ ‡ç³»)
- **æ˜¾ç¤ºå†…å®¹**: åœ†å½¢æ‹Ÿåˆç»“æžœ
- **äº¤äº’æ–¹å¼**: é™æ€æ˜¾ç¤º
- **åˆ†æžèƒ½åŠ›**: æœ‰é™çš„åœ†åº¦åˆ†æž

### ä¿®æ”¹åŽ âœ…
- **å›¾è¡¨ç±»åž‹**: äºŒç»´å…¬å·®å¸¦åŒ…ç»œå›¾ (æ·±åº¦-ç›´å¾„å…³ç³»)
- **æ˜¾ç¤ºå†…å®¹**: å…¬å·®å¸¦ã€æµ‹é‡æ•°æ®è¶‹åŠ¿ã€è¶…å·®ç‚¹æ ‡è®°
- **äº¤äº’æ–¹å¼**: é¼ æ ‡æ»šè½®ç¼©æ”¾
- **åˆ†æžèƒ½åŠ›**: å…¨é¢çš„è´¨é‡è¶‹åŠ¿åˆ†æž

## æ ¸å¿ƒåŠŸèƒ½å®žçŽ°

### 1. äºŒç»´å…¬å·®å¸¦åŒ…ç»œå›¾ âœ…

#### åæ ‡è½´è®¾ç½®
```python
self.ax.set_xlabel('æ·±åº¦ (mm)')
self.ax.set_ylabel('ç›´å¾„ (mm)')
self.ax.set_title('äºŒç»´å…¬å·®å¸¦åŒ…ç»œå›¾')
```

#### å…¬å·®å¸¦ç»˜åˆ¶
- **æ ‡å‡†ç›´å¾„çº¿**: 17.6mm (ç»¿è‰²å®žçº¿)
- **ä¸Šå…¬å·®çº¿**: 17.65mm (+0.05mm, çº¢è‰²è™šçº¿)
- **ä¸‹å…¬å·®çº¿**: 17.53mm (-0.07mm, çº¢è‰²è™šçº¿)

#### æµ‹é‡æ•°æ®æ˜¾ç¤º
- **æ•°æ®æ›²çº¿**: è“è‰²å®žçº¿ï¼Œå¸¦åœ†ç‚¹æ ‡è®°
- **è¶…å·®ç‚¹**: çº¢è‰²åœ†ç‚¹ç‰¹æ®Šæ ‡è®°
- **è¶‹åŠ¿åˆ†æž**: ç›´è§‚æ˜¾ç¤ºç›´å¾„éšæ·±åº¦çš„å˜åŒ–

### 2. é¼ æ ‡æ»šè½®ç¼©æ”¾ âœ…

#### äº¤äº’åŠŸèƒ½
```python
def setup_mouse_interaction(self):
    """è®¾ç½®é¼ æ ‡äº¤äº’åŠŸèƒ½"""
    self.mpl_connect('scroll_event', self.on_scroll)

def on_scroll(self, event):
    """é¼ æ ‡æ»šè½®ç¼©æ”¾äº‹ä»¶å¤„ç†"""
    # æ»šè½®å‘ä¸Š: æ”¾å¤§ (ç¼©æ”¾å› å­0.9)
    # æ»šè½®å‘ä¸‹: ç¼©å° (ç¼©æ”¾å› å­1.1)
    # ä»¥é¼ æ ‡ä½ç½®ä¸ºä¸­å¿ƒç¼©æ”¾
```

#### ç¼©æ”¾ç‰¹æ€§
- **æ™ºèƒ½ç¼©æ”¾**: ä»¥é¼ æ ‡ä½ç½®ä¸ºä¸­å¿ƒ
- **å¹³æ»‘æ“ä½œ**: æ¸è¿›å¼ç¼©æ”¾ä½“éªŒ
- **èŒƒå›´ä¿æŠ¤**: é˜²æ­¢è¿‡åº¦ç¼©æ”¾

### 3. ç»Ÿè®¡ä¿¡æ¯æ˜¾ç¤º âœ…

#### ä¿¡æ¯å†…å®¹
- æµ‹é‡ç‚¹æ•°ã€å¹³å‡ç›´å¾„ã€æ ‡å‡†åå·®
- æœ€å°å€¼ã€æœ€å¤§å€¼
- æ ‡å‡†ç›´å¾„ã€å…¬å·®èŒƒå›´
- åˆæ ¼ç‚¹æ•°ã€åˆæ ¼çŽ‡
- åå·®ç»Ÿè®¡åˆ†æž

#### æ˜¾ç¤ºæ–¹å¼
- **ä½ç½®**: å›¾è¡¨å·¦ä¸Šè§’
- **æ ·å¼**: æµ…è“è‰²èƒŒæ™¯æ–‡æœ¬æ¡†
- **å…¬å·®**: éžå¯¹ç§°å…¬å·® (-0.07/+0.05)

## æŠ€æœ¯å®žçŽ°ç»†èŠ‚

### æ•°æ®å¤„ç†
```python
def plot_measurement_data(self, measurements, hole_info):
    # æå–æ·±åº¦å’Œç›´å¾„æ•°æ®
    depths = [measurement.get('position', measurement.get('depth', 0)) 
              for measurement in measurements]
    diameters = [measurement.get('diameter', 0) 
                 for measurement in measurements]
    
    # æ ‡å‡†ç›´å¾„å’Œå…¬å·®è®¾ç½®
    standard_diameter = 17.6  # mm
    upper_tolerance = 0.05    # +0.05mm
    lower_tolerance = -0.07   # -0.07mm
```

### å…¬å·®å¸¦ç»˜åˆ¶
```python
# ç»˜åˆ¶å…¬å·®å¸¦æ›²çº¿
depth_range = np.linspace(min(depths), max(depths), 100)

# ä¸Šå…¬å·®çº¿
upper_line = np.full_like(depth_range, standard_diameter + upper_tolerance)
self.ax.plot(depth_range, upper_line, 'r--', linewidth=2, 
            label=f'ä¸Šå…¬å·®çº¿ ({standard_diameter + upper_tolerance:.2f}mm)')

# ä¸‹å…¬å·®çº¿
lower_line = np.full_like(depth_range, standard_diameter + lower_tolerance)
self.ax.plot(depth_range, lower_line, 'r--', linewidth=2, 
            label=f'ä¸‹å…¬å·®çº¿ ({standard_diameter + lower_tolerance:.2f}mm)')
```

### è¶…å·®ç‚¹æ ‡è®°
```python
# æ ‡è®°è¶…å‡ºå…¬å·®çš„ç‚¹
for depth, diameter in zip(depths, diameters):
    if (diameter > standard_diameter + upper_tolerance or 
        diameter < standard_diameter + lower_tolerance):
        self.ax.plot(depth, diameter, 'ro', markersize=5, alpha=0.8)
```

## ç”¨æˆ·ä½“éªŒæå‡

### 1. ç›´è§‚çš„è´¨é‡è¯„ä¼°
- **è¶‹åŠ¿åˆ†æž**: æ¸…æ™°æ˜¾ç¤ºç›´å¾„éšæ·±åº¦çš„å˜åŒ–è¶‹åŠ¿
- **å…¬å·®å¯è§†åŒ–**: ç›´è§‚çš„å…¬å·®å¸¦è¾¹ç•Œ
- **è¶…å·®è¯†åˆ«**: æ˜Žç¡®æ ‡è®°è¶…å‡ºå…¬å·®çš„æµ‹é‡ç‚¹

### 2. äº¤äº’å¼åˆ†æž
- **ç¼©æ”¾åŠŸèƒ½**: é¼ æ ‡æ»šè½®ç¼©æ”¾æŸ¥çœ‹ç»†èŠ‚
- **æ™ºèƒ½èŒƒå›´**: è‡ªåŠ¨è°ƒæ•´æ˜¾ç¤ºèŒƒå›´åŒ…å«æ‰€æœ‰å…³é”®ä¿¡æ¯
- **å®žæ—¶åé¦ˆ**: æµç•…çš„äº¤äº’ä½“éªŒ

### 3. å®Œæ•´çš„ä¿¡æ¯å±•ç¤º
- **å¤šå±‚ä¿¡æ¯**: å…¬å·®å¸¦ã€æµ‹é‡æ•°æ®ã€ç»Ÿè®¡ä¿¡æ¯ä¸€ç›®äº†ç„¶
- **ä¸“ä¸šæ˜¾ç¤º**: ç¬¦åˆå·¥ç¨‹åˆ¶å›¾æ ‡å‡†çš„é¢œè‰²å’Œçº¿åž‹
- **è¯¦ç»†ç»Ÿè®¡**: å…¨é¢çš„è´¨é‡åˆ†æžæ•°æ®

## ä½¿ç”¨æµç¨‹

### æ“ä½œæ­¥éª¤
1. **é€‰æ‹©æ•°æ®**: é€‰æ‹©å·¥ä»¶IDå’Œå­”ID
2. **æŸ¥è¯¢æ•°æ®**: ç‚¹å‡»ã€æŸ¥è¯¢æ•°æ®ã€‘æŒ‰é’®
3. **è‡ªåŠ¨ç»˜åˆ¶**: ç³»ç»Ÿè‡ªåŠ¨ç»˜åˆ¶äºŒç»´å…¬å·®å¸¦åŒ…ç»œå›¾
4. **äº¤äº’åˆ†æž**: ä½¿ç”¨é¼ æ ‡æ»šè½®ç¼©æ”¾æŸ¥çœ‹ç»†èŠ‚
5. **æŸ¥çœ‹ç»Ÿè®¡**: æŸ¥çœ‹å·¦ä¸Šè§’çš„è¯¦ç»†ç»Ÿè®¡ä¿¡æ¯

### å›¾è¡¨è§£è¯»
- **çº¢è‰²è™šçº¿**: å…¬å·®å¸¦ä¸Šä¸‹è¾¹ç•Œ
- **ç»¿è‰²å®žçº¿**: æ ‡å‡†ç›´å¾„åŸºå‡†çº¿
- **è“è‰²å®žçº¿**: å®žé™…æµ‹é‡æ•°æ®æ›²çº¿
- **çº¢è‰²åœ†ç‚¹**: è¶…å‡ºå…¬å·®çš„æµ‹é‡ç‚¹
- **è“è‰²æ–‡æœ¬æ¡†**: è¯¦ç»†ç»Ÿè®¡åˆ†æžä¿¡æ¯

## ä»£ç ä¼˜åŒ–

### åˆ é™¤çš„åŠŸèƒ½
- âŒ `plot_fitted_circle()` - æ‹Ÿåˆåœ†ç»˜åˆ¶
- âŒ `CircleFitter` ç›¸å…³è°ƒç”¨ - åœ†æ‹Ÿåˆç®—æ³•
- âŒ `set_aspect('equal')` - ç­‰æ¯”ä¾‹åæ ‡è½´

### æ–°å¢žçš„åŠŸèƒ½
- âœ… `setup_mouse_interaction()` - é¼ æ ‡äº¤äº’è®¾ç½®
- âœ… `on_scroll()` - æ»šè½®ç¼©æ”¾å¤„ç†
- âœ… å…¬å·®å¸¦ç»˜åˆ¶é€»è¾‘
- âœ… è¶…å·®ç‚¹è‡ªåŠ¨æ ‡è®°
- âœ… éžå¯¹ç§°å…¬å·®å¤„ç†

### ä¼˜åŒ–çš„åŠŸèƒ½
- ðŸ”„ `plot_measurement_data()` - æ”¹ä¸ºç»˜åˆ¶å…¬å·®å¸¦å›¾
- ðŸ”„ `plot_statistics()` - é€‚é…æ–°çš„ç»Ÿè®¡æ˜¾ç¤º
- ðŸ”„ `init_empty_plot()` - åˆå§‹åŒ–å…¬å·®å¸¦å›¾è¡¨

## æŠ€æœ¯ä¼˜åŠ¿

### 1. æ›´å¥½çš„æ•°æ®å¯è§†åŒ–
- ä»Žé™æ€åœ†å½¢æ˜¾ç¤ºæ”¹ä¸ºåŠ¨æ€è¶‹åŠ¿åˆ†æž
- æ›´ç›´è§‚çš„è´¨é‡è¯„ä¼°æ–¹å¼
- æ›´ä¸°å¯Œçš„ä¿¡æ¯å±•ç¤º

### 2. å¢žå¼ºçš„äº¤äº’ä½“éªŒ
- é¼ æ ‡æ»šè½®ç¼©æ”¾åŠŸèƒ½
- æ™ºèƒ½çš„ç¼©æ”¾ä¸­å¿ƒå®šä½
- æµç•…çš„ç”¨æˆ·æ“ä½œä½“éªŒ

### 3. ä¸“ä¸šçš„å·¥ç¨‹æ˜¾ç¤º
- ç¬¦åˆå·¥ç¨‹æ ‡å‡†çš„å…¬å·®è¡¨ç¤º
- æ¸…æ™°çš„é¢œè‰²ç¼–ç ç³»ç»Ÿ
- å®Œæ•´çš„ç»Ÿè®¡åˆ†æžä¿¡æ¯

## æ€»ç»“

æœ¬æ¬¡ä¿®æ”¹æˆåŠŸå®žçŽ°äº†ä»Žæ‹Ÿåˆåœ†å›¾åˆ°äºŒç»´å…¬å·®å¸¦åŒ…ç»œå›¾çš„è½¬æ¢ï¼š

- âœ… **åŠŸèƒ½è½¬æ¢**: ä»Žåœ†åº¦åˆ†æžè½¬ä¸ºè¶‹åŠ¿åˆ†æž
- âœ… **äº¤äº’å¢žå¼º**: æ·»åŠ é¼ æ ‡æ»šè½®ç¼©æ”¾åŠŸèƒ½
- âœ… **æ˜¾ç¤ºä¼˜åŒ–**: æ›´ç›´è§‚çš„å…¬å·®å¸¦å¯è§†åŒ–
- âœ… **ä¿¡æ¯ä¸°å¯Œ**: å®Œæ•´çš„ç»Ÿè®¡åˆ†æžå±•ç¤º
- âœ… **ç”¨æˆ·ä½“éªŒ**: æ›´ä¸“ä¸šçš„å·¥ç¨‹åˆ†æžç•Œé¢

3.1ç•Œé¢çŽ°åœ¨æä¾›äº†æ›´å¼ºå¤§çš„è´¨é‡åˆ†æžèƒ½åŠ›ï¼Œç”¨æˆ·å¯ä»¥ç›´è§‚åœ°è§‚å¯Ÿæµ‹é‡æ•°æ®çš„è¶‹åŠ¿å˜åŒ–ï¼Œå¿«é€Ÿè¯†åˆ«è¶…å·®ç‚¹ï¼Œå¹¶é€šè¿‡äº¤äº’å¼ç¼©æ”¾åŠŸèƒ½æ·±å…¥åˆ†æžç»†èŠ‚ã€‚
