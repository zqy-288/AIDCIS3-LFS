# æµ®åŠ¨å…¨æ™¯å›¾ä¿®æ”¹åŠŸèƒ½æµ‹è¯•å¥—ä»¶

## å¿«é€Ÿå¼€å§‹

### è¿è¡Œæ‰€æœ‰æµ‹è¯•
```bash
cd /Users/vsiyo/Desktop/AIDCIS/AIDCIS3-LFS
python tests/run_floating_panorama_tests.py
```

### è¿è¡Œç‰¹å®šç±»åˆ«
```bash
# åªè¿è¡Œå•å…ƒæµ‹è¯•
python tests/run_floating_panorama_tests.py --category unit

# åªè¿è¡Œé›†æˆæµ‹è¯•
python tests/run_floating_panorama_tests.py --category integration

# åªè¿è¡Œç³»ç»Ÿæµ‹è¯•
python tests/run_floating_panorama_tests.py --category system
```

### ç”Ÿæˆè¯¦ç»†æŠ¥å‘Š
```bash
python tests/run_floating_panorama_tests.py --category all --verbose --report
```

## æµ‹è¯•å†…å®¹

### ğŸ¨ æµ®åŠ¨çª—å£æ ·å¼æµ‹è¯•
- éªŒè¯ç»¿è‰²è¾¹æ¡†å·²ç§»é™¤
- éªŒè¯åŠé€æ˜èƒŒæ™¯è®¾ç½®æ­£ç¡®
- éªŒè¯æ ‡é¢˜"å…¨å±€é¢„è§ˆè§†å›¾"æ˜¾ç¤º
- éªŒè¯çª—å£å°ºå¯¸è°ƒæ•´ï¼ˆ220x240ï¼‰

### ğŸ”„ æ•°æ®åŒæ­¥æµ‹è¯•
- éªŒè¯ä¸ä¸»çª—å£ä¿¡å·è¿æ¥
- éªŒè¯ä¸å·¦è¾¹æ å…¨æ™¯å›¾æ•°æ®åŒæ­¥
- éªŒè¯çŠ¶æ€æ›´æ–°ä¸€è‡´æ€§

### ğŸ“ æ‰‡å½¢åŒºåŸŸè°ƒæ•´æµ‹è¯•
- éªŒè¯ä¸­å¿ƒç‚¹å‘å³ä¸‹åç§»ï¼ˆ5%ï¼‰
- éªŒè¯åŠå¾„ç¼©å°ï¼ˆ1.1â†’0.9ï¼‰
- éªŒè¯å°å‹å’Œä¸»å…¨æ™¯å›¾åŒæ­¥è°ƒæ•´

### ğŸ“ JSONå¹¶å‘è¯»å†™æµ‹è¯•
- éªŒè¯åŸå­å†™å…¥æ“ä½œ
- éªŒè¯æ–‡ä»¶è¯»å–é‡è¯•æœºåˆ¶
- éªŒè¯å¹¶å‘å®‰å…¨æ€§
- éªŒè¯æ•…éšœæ¢å¤èƒ½åŠ›

## æµ‹è¯•ç»“æœè§£è¯»

### æˆåŠŸç¤ºä¾‹
```
å•å…ƒæµ‹è¯•: âœ… é€šè¿‡ (12/12 æµ‹è¯•)
é›†æˆæµ‹è¯•: âœ… é€šè¿‡ (8/8 æµ‹è¯•)
ç³»ç»Ÿæµ‹è¯•: âœ… é€šè¿‡ (6/6 æµ‹è¯•)

ğŸ‰ æ‰€æœ‰æµ‹è¯•éƒ½é€šè¿‡äº†ï¼æµ®åŠ¨å…¨æ™¯å›¾ä¿®æ”¹åŠŸèƒ½éªŒè¯æˆåŠŸã€‚
```

### å¤±è´¥æ’æŸ¥
å¦‚æœæµ‹è¯•å¤±è´¥ï¼Œæ£€æŸ¥ï¼š

1. **ç¯å¢ƒä¾èµ–**
   ```bash
   pip install PySide6 pytest
   ```

2. **å›¾å½¢ç¯å¢ƒ**
   ```bash
   export QT_QPA_PLATFORM=offscreen
   ```

3. **æ–‡ä»¶æƒé™**
   ```bash
   ls -la tests/
   chmod +x tests/run_floating_panorama_tests.py
   ```

## æµ‹è¯•æ–‡ä»¶è¯´æ˜

| æ–‡ä»¶ | ç±»å‹ | æè¿° |
|-----|------|------|
| `test_floating_panorama_modifications.py` | å•å…ƒæµ‹è¯• | ç»„ä»¶ç‹¬ç«‹åŠŸèƒ½æµ‹è¯• |
| `test_json_concurrent_io.py` | å•å…ƒæµ‹è¯• | JSONæ–‡ä»¶å¹¶å‘å®‰å…¨æµ‹è¯• |
| `test_floating_panorama_integration.py` | é›†æˆæµ‹è¯• | ç»„ä»¶é—´é›†æˆæµ‹è¯• |
| `test_floating_panorama_system.py` | ç³»ç»Ÿæµ‹è¯• | ç«¯åˆ°ç«¯å·¥ä½œæµç¨‹æµ‹è¯• |
| `run_floating_panorama_tests.py` | è¿è¡Œå™¨ | æµ‹è¯•æ‰§è¡Œå’ŒæŠ¥å‘Šç”Ÿæˆ |

## æ€§èƒ½åŸºå‡†

- å•å…ƒæµ‹è¯•æ€»è€—æ—¶: < 30ç§’
- é›†æˆæµ‹è¯•æ€»è€—æ—¶: < 60ç§’  
- ç³»ç»Ÿæµ‹è¯•æ€»è€—æ—¶: < 120ç§’
- å¹¶å‘æ“ä½œååé‡: > 10æ“ä½œ/ç§’
- JSONè¯»å†™é‡è¯•æˆåŠŸç‡: > 95%

## é›†æˆåˆ°CI/CD

### GitHub Actions
```yaml
# æ·»åŠ åˆ° .github/workflows/test.yml
- name: Run floating panorama tests
  run: |
    python tests/run_floating_panorama_tests.py --category all --report
```

### æœ¬åœ°å¼€å‘
```bash
# å¼€å‘å‰è¿è¡Œæµ‹è¯•
python tests/run_floating_panorama_tests.py --category unit

# æäº¤å‰è¿è¡Œå®Œæ•´æµ‹è¯•
python tests/run_floating_panorama_tests.py --category all
```

## æµ‹è¯•æŠ¥å‘Š

æµ‹è¯•è¿è¡Œåä¼šåœ¨ `tests/test_reports/` ç”Ÿæˆè¯¦ç»†æŠ¥å‘Šï¼š
```
floating_panorama_test_report_20250113_143022.txt
```

æŠ¥å‘ŠåŒ…å«ï¼š
- æµ‹è¯•æ‰§è¡Œæ‘˜è¦
- æ€§èƒ½æŒ‡æ ‡
- å¤±è´¥è¯¦æƒ…
- ä¿®å¤å»ºè®®

## ç»´æŠ¤è¯´æ˜

### æ·»åŠ æ–°æµ‹è¯•
1. åœ¨ç›¸åº”ç›®å½•åˆ›å»ºæµ‹è¯•æ–‡ä»¶
2. ç»§æ‰¿ `unittest.TestCase`
3. æ›´æ–° `run_floating_panorama_tests.py` çš„æ¨¡å—åˆ—è¡¨

### æ›´æ–°æ€§èƒ½åŸºå‡†
1. è¿è¡Œæ€§èƒ½æµ‹è¯•è·å¾—æ–°åŸºå‡†
2. æ›´æ–°æµ‹è¯•ä¸­çš„æ€§èƒ½æ–­è¨€
3. æ›´æ–°æ–‡æ¡£ä¸­çš„æ€§èƒ½æŒ‡æ ‡

### æµ‹è¯•ç¯å¢ƒéš”ç¦»
æ¯ä¸ªæµ‹è¯•éƒ½ä½¿ç”¨ç‹¬ç«‹çš„ä¸´æ—¶ç›®å½•ï¼Œç¡®ä¿æµ‹è¯•é—´ä¸ç›¸äº’å½±å“ã€‚